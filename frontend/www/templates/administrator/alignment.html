<ion-view view-title="Alignments">
    <ion-nav-buttons side="left"><a href="/#/administrator/dashboard" data-ng-bind-html="installation.logo"></a></ion-nav-buttons>
    <ion-nav-buttons side="right"><a data-ng-click="logout()"><i class="logo ion-log-out"></i></a></ion-nav-buttons>
    <ion-content has-bouncing="false" overflow-scroll="true" data-ng-init="currentInstrument = e.findInstrument(null)">
        <div class="detail">
            <h2>{{resource.name}}</h2>
            <select class="large" data-ng-model="e.currentInstrumentId" data-ng-change="currentInstrument = e.findInstrument(e.currentInstrumentId)">
                <option data-ng-repeat="instrument in e.instruments" value="{{instrument.id}}">{{instrument.name}}</option>
            </select>

            <div class="clearfix"></div>
        </div>
        <ion-list data-ng-init="r.retrieveAlignments(currentInstrument.questions)">
            <ion-item class="item-icon-right" ng-repeat="question in currentInstrument.questions" type="item-text-wrap"
                      href="#/administrator/alignment/{{resource.id}}">
                <div class="name">{{question.name}}</div>
                <div style="float:right; width: 10em; margin: 1em 0.5em;">
                    <div class="item range range-positive">
                        <input type="range" name="volume" min="0" max="3" data-ng-bind="{{question.alignment}}" data-ng-model="question.alignment">

                        <div class="clearfix"></div>
                        <div><span class="phrase">{{question.alignment}}</span></div>
                    </div>
                </div>
                <div class="description" data-ng-bind-html="question.description"></div>
            </ion-item>
        </ion-list>
        <button data-ng-click="r.saveAlignments(currentInstrument.id, resource.id, currentInstrument.questions)" class="button button-balanced">Save</button>
    </ion-content>
</ion-view>

